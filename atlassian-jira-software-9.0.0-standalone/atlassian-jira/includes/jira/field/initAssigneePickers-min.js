define("jira/field/init-assignee-pickers",["jira/field/assignee-picker","jira/util/users/logged-in-user","jira/util/events","jira/util/events/types","jira/util/events/reasons","jquery","jira/skate"],function(e,i,n,t,a,s,r){"use strict";function c(e){var i=e.indexOf("#");return-1!==i?e.substring(i):e}function u(e){s("#assign-to-me-trigger",e).click(function(n){n.preventDefault();var t=s(this).data("field-id"),a=c(t),r=i.username(),u=s(a,e);s(a+"-single-select",e).length?u.trigger("set-selection-value",r):u.val(r).change()})}function l(e){s(".assignee-edit-group",e).each(function(){var i=s(this),n=i.attr("rel");s("#assignee_userpicker_dummy_"+n+"_container",e).click(function(){s("#assignee_radio_picker_"+n,e).attr("checked","checked")}),i.parents("form[name=jiraform]").submit(function(){i.find("input[name=assignee_radio]:checked").each(function(){this.id==="assignee_radio_picker_"+n?s("#"+n,e).val(s("#assignee_userpicker_dummy_"+n,e).val()):s("#"+n,e).val(s(this).val())})})})}r("js-assignee-picker",{type:r.type.CLASSNAME,created:function(i){var n=s(i),t=n.data("editValue"),a=new e({element:n,editValue:t});s(document).trigger("ready.single-select.assignee",a)}}),n.bind(t.NEW_CONTENT_ADDED,function(e,i,n){n!==a.panelRefreshed&&(u(i),l(i))})});