define("jira/project/browse/app",["backbone","jira/marionette-4.1","jira/util/navigation","jira/project/browse/layout","jira/project/browse/projectcollection","jira/project/browse/filtermodel","jira/project/browse/categorycollection","jira/project/browse/projecttypecollection","jira/project/browse/router"],function(e,t,o,i,r,a,s,c,l){"use strict";return t.Application.extend({initialize:function(e){this.categories=new s(e.categories),this.availableProjectTypes=new c(e.availableProjectTypes),this.projects=new r(e.projects,{mode:"client",state:{pageSize:25,currentPage:1},categories:this.categories,parse:!0}),this.categories.selectCategory(e.selectedCategory),e.availableProjectTypes?(this.availableProjectTypes.selectProjectType(e.selectedProjectType)||this.availableProjectTypes.selectProjectType("all"),this.filter=new a({category:this.categories.getSelected().toJSON(),projectType:this.availableProjectTypes.getSelected().toJSON()},{pageableCollection:this.projects})):this.filter=new a({category:this.categories.getSelected().toJSON()},{pageableCollection:this.projects})},onStart:function(){if(this.layout=new i({el:this.getRegion().$el,categories:this.categories,availableProjectTypes:this.availableProjectTypes,projects:this.projects,filter:this.filter}),new l({application:this}),e.History.started||e.history.start({pushState:o.pushStateSupported,root:o.getBackboneHistoryRoot()}),window.location.hash){var t=window.location.hash.substring(1);this.categories.get(t)&&this.layout.categoryChange(t)}}})});