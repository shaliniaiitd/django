AJS.test.require(["jira.webresources:autocomplete"],function(){"use strict";var e=require("jira/field/create-user-picker-popup-trigger"),t=require("jira/autocomplete/user-autocomplete"),i=require("wrm/context-path");QUnit.config.testTimeout=5e3,module("UserAutoComplete",{setup:function(){this.createPopupStub=sinon.stub(e,"createUserPickerPopupTrigger")},teardown:function(){this.createPopupStub.restore()}}),test("init method should attach popup trigger with proper arguments if fieldset.user-picker-params is present",function(){var e=document.createElement("div");e.setAttribute("id","test_container"),e.innerHTML='\n        <fieldset class="user-picker-params">\n            <input type="hidden" title="fieldId" value="test"/>\n            <input type="hidden" title="actionToOpen" value="test_actionToOpen"/>\n            <input type="hidden" title="formName" value="test_formName"/>\n            <input type="hidden" title="fieldName" value="test_fieldName"/>\n            <input type="hidden" title="multiSelect" value="test_multiSelect"/>\n            <input type="hidden" title="fieldConfigId" value="test_fieldConfigId"/>\n            <input type="hidden" title="projectId" value="test_projectId"/>\n        </fieldset>\n        <a href="#" class="popup-trigger"></a>',document.querySelector("#qunit-fixture").append(e),t.init(e);var r=e.querySelector("a.popup-trigger");r&&r.click(),sinon.assert.calledOnce(this.createPopupStub),sinon.assert.calledWith(this.createPopupStub,{urlBase:i(),actionToOpen:"test_actionToOpen",formName:"test_formName",fieldName:"test_fieldName",multiSelect:"test_multiSelect",fieldConfigId:"test_fieldConfigId",projectIds:"test_projectId"})})});