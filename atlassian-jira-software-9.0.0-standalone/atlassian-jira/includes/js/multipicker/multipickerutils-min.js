define("jira/multipicker/multipickerutils",[],function(){"use strict";function e(e){e.oldClassName=e.className,e.className="rowHover",e.onmouseout=function(){this.className=this.oldClassName}}function t(){for(var e,t=document.selectorform.all.checked,n=document.selectorform.elements.length,r=0;r<n;r++)e=document.selectorform.elements[r],e.checked=t}function n(e){e.preventDefault();var t=document.querySelector("input[name=userchecks]:checked");if(!t)return window.close();var n=document.getElementById("openElement").textContent.trim();opener.document.getElementById(n).value=t.value,window.close()}function r(e){e.preventDefault();var t=document.querySelector("input[name=userchecks]:checked");if(!t)return window.close();var n=document.getElementById("triggerEvent").textContent.trim(),r=document.getElementById("openElement").textContent.trim(),o=opener.jQuery("#"+r);o.val(t.value),n&&o.trigger(n,t.value),window.close()}function o(e){var t=document.getElementById(e);t&&(t.checked=!0)}function c(e){var t=document.getElementById("openElement").textContent.trim(),n=opener.document.getElementById(t),r=h(AJS.$('input[name="previouslySelected"]').val(),e);r=r.substring(1,r.length-1);var o=r.split(";");for(var c in o)o.hasOwnProperty(c)&&l(k(o[c]),n);var u=[];AJS.$.each(n.value.split(","),function(){var e=i(this);e&&""!==e&&u.push(e)}),u.sort(),n.value=u.join(", "),window.close()}function u(e){e.preventDefault();var t=document.querySelectorAll("input[name=userchecks]:checked"),n=[];if(t.forEach(function(e){n.push({id:e.value,displayName:e.getAttribute("data-display-name")})}),0===n.length)return window.close();var r=document.getElementById("triggerEvent").textContent.trim();if(r){var o=document.getElementById("openElement").textContent.trim();opener.jQuery("#"+o).trigger(r,JSON.stringify(n)),window.close()}else c("input[data-user-select]")}function l(e,t){for(var n=t.value.split(","),r=0;r<n.length;r++)if(e===i(n[r]))return;""===t.value?t.value=e:t.value=t.value+", "+e}function i(e){return e.replace(/^\s*|\s*$/g,"")}function a(e,t){t.checked?e.shiftKey?m(t):s(t):y=null}function s(e){y=d(e)}function m(e){if(null!=y){var t=d(e),n=f(e,Math.min(t,y),Math.max(t,y),!0);y=n}}function d(e){for(var t=0;t<e.form.elements[e.name].length;t++)if(e.form.elements[e.name][t].value===e.value)return t}function f(e,t,n,r){var o;for(o=t;o<=n;o++)e.form.elements[e.name][o].checked=r;return o}function v(e,t){e.preventDefault();var n=document.getElementById(t);return null==n&&(n=document.all[t]),n.checked=!n.checked,a(e,n),!1}function h(e,t){var n=e,r="input:checkbox[name=userchecks]";return t&&""!==t&&(r=t),AJS.$(document.selectorform).find(r).each(function(){var e=this;if(null!=e){var t=g(e.value);n=p(n,t),e.checked&&(0===n.length&&(n+=";"),n+=t,n+=";")}}),n}function p(e,t){return e.replace(";"+t+";",";")}function g(e){return e.replace(/;/,"%59")}function k(e){return e.replace(/%59/,";")}var y;return{rowHover:e,setCheckboxes:t,selectSingleGroup:n,selectSingleUser:r,processCBClick:a,setRadio:o,selectMultiUser:u,toggleCheckBox:v,addItemsToInputField:c}});