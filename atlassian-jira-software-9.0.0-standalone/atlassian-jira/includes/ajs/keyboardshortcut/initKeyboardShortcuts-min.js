define("jira/ajs/keyboardshortcut/init-keyboard-shortcut",["jira/ajs/keyboardshortcut/keyboard-shortcut","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jira/util/data/meta","jira/dialog/dialog-stack","aui/dropdown","aui/popup","jira/jquery/deferred","jquery","wrm/data"],function(r,t,e,o,a,u,n,i,c){"use strict";function s(t){fetch(t).then(function(r){return r.json()}).then(function(t){AJS.activeShortcuts=r.fromJSON(t.shortcuts),d.resolve(AJS.activeShortcuts)}).catch(function(r){return console.error("There was an error during the setup of keyboard shortcuts.",r)})}var d=new n,b={};return Object.defineProperty(b,"keyboardShortcuts",{value:d.promise(),writable:!1,configurable:!1}),i(function(){r.addIgnoreCondition(function(){return u.current||a.current||o.current||t.areKeyboardShortcutsDisabled()}),e.get("keyboard-shortcuts-enabled")?t.enable():t.disable(),c.claim("keyboardShortcutsUrl",s)}),i(document).bind("aui:keyup",function(r){var t,e;"Esc"===r.key&&(t=i(r.target),t.is(":input:not(button[type='button'])")&&(e=new i.Event("beforeBlurInput"),t.trigger(e,[{reason:"escPressed"}]),e.isDefaultPrevented()||t.blur()))}),b}),require("jira/ajs/keyboardshortcut/init-keyboard-shortcut");