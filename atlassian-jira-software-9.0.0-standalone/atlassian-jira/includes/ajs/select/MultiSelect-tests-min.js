AJS.test.require(["jira.webresources:select-pickers"],function(){"use strict";function e(){return new i({element:n("#drinks"),itemAttrDisplayed:"label"})}function t(e){e.addItem({properties:{fallbackIcon:"none",icon:"none",invalid:!1,label:"Victoria Bitter",removeOnUnSelect:!1,selected:!0,showLabel:!0,styleClass:"",title:"Victoria Bitter",value:"1"}},!0)}var n=require("jquery"),i=require("jira/ajs/select/multi-select");module("MultiSelect",{setup:function(){this.$select=n('<select id="drinks" multiple="multiple">\n<optgroup label="Beers">\n<option value="1">Victoria Bitter</option>\n<option value="2">Blue tongue</option>\n<option value="3">James Squires</option>\n</optgroup>\n<optgroup label="Wines">\n<option value="4">Jacobs Creek</option>\n<option value="5">Oyster Bay</option>\n</optgroup>\n</select>').appendTo("#qunit-fixture")},teardown:function(){this.$select.remove()}}),test("field should have aria-multiline=false attribute",function(){var t=e();equal(t.$field.attr("aria-multiline"),"false","aria-multiline=false attribute should be present")}),test("should check if indentation needs to be set on focus",function(n){var i=n.async(),o=document.getElementById("qunit-fixture");o.style.display="none";var l=e();l._probablyNeedsIndentationSet=sinon.stub().returns(!0),t(l),o.style.display="block",setTimeout(function(){document.getElementById("drinks-textarea").focus(),sinon.assert.callCount(l._probablyNeedsIndentationSet,1),i()},100)}),test("proper value indentation value should be computed on focus",function(n){var i=n.async(),o=document.getElementById("qunit-fixture");o.style.display="none",t(e()),o.style.display="block";var l=document.getElementById("drinks-textarea");equal(parseInt(l.style.paddingLeft),4),setTimeout(function(){l.focus();var e=document.getElementById("item-row-1"),t=e.offsetLeft+e.offsetWidth+8;equal(parseInt(l.style.paddingLeft),t),i()},100)})});