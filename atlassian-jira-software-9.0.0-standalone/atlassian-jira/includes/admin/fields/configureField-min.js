require(["jira/util/formatter","underscore","jira/flag","jira/util/init-on-dcl","jquery"],function(e,t,n,o,i){"use strict";function a(){document.getElementById("screens-form").addEventListener("submit",r)}function r(){var e=document.getElementById("screens-form-submit");e.busy(),e.disabled=!0}function s(){i(".configure-field .menu-item a").each(function(){i(this).bind("tabSelect",function(e){if(window.history.replaceState){var t=new URLSearchParams(new URL(document.URL).search),n="screens"===e.target.hash.substring(1)?"screens":"contexts";t.set("selectedTab",n);var o=location.pathname+"?"+t.toString();window.history.replaceState(null,null,o)}})})}function c(){i(".context-tooltip").tooltip()}o(function(){var o=new URL(document.URL).search||"";o.startsWith("?")&&(o=o.substr(1));var i=new URLSearchParams(o),r=i.get("deletedContext");if(r&&(n.showInfoMsg(null,e.I18n.getText("admin.issuefields.config.context.deleted.flag",t.escape(r),"<strong>","</strong>"),{closeable:!0,close:"auto"}),window.history.replaceState)){i.delete("deletedContext");var l=location.pathname+"?"+i.toString();window.history.replaceState(null,null,l)}a(),s(),c()})});